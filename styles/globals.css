@import "tailwindcss";

/* Plugins (v4) */
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";

/* Theme tokens (v4) */
@theme {
  --font-sans: var(--font-inter),
    var(
      --font-inter-fallback,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      "Helvetica Neue",
      Arial,
      sans-serif
    );

  --color-brand-primary: #6d28d9;
  --color-brand-secondary: #4f46e5;

  --container-padding: 1rem;
  --container-padding-sm: 1.5rem;
  --container-padding-lg: 2rem;
  --container-padding-xl: 2.5rem;
  --container-padding-2xl: 3.5rem;

  --container-max: 1440px;
  --container-max-2xl: 1536px;
  --container-max-3xl: 1680px;
}

:root {
  --font-inter-fallback: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;

  color-scheme: dark;
}

/* Base */
@layer base {
  html {
    @apply scroll-smooth overflow-x-hidden h-full;
    scrollbar-gutter: stable;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    /* Blog ve hizmet sayfaları arasında “default” farkı kalmasın */
    @apply min-h-screen font-sans antialiased;
    text-rendering: optimizeLegibility;
    width: 100%;
    overflow-x: hidden;

    /* Default görünüm (layout class’ları yüklenemese bile sayfa boş kalmasın) */
    background: #0b1120;
    color: rgb(226 232 240);
  }

  h1 {
    @apply text-4xl md:text-5xl leading-tight font-extrabold tracking-tight;
  }
  h2 {
    @apply text-3xl md:text-4xl leading-tight font-bold tracking-tight;
  }
  h3 {
    @apply text-2xl md:text-3xl leading-snug font-semibold tracking-tight;
  }
  h4 {
    @apply text-xl md:text-2xl font-semibold tracking-tight;
  }
  h5 {
    @apply text-lg md:text-xl font-semibold tracking-tight;
  }
  h6 {
    @apply text-base md:text-lg font-semibold tracking-tight;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-current;
  }

  p {
    @apply text-base leading-relaxed text-slate-700;
  }

  a {
    @apply text-blue-600 underline-offset-4;
  }

  a:hover {
    @apply text-blue-700 underline;
  }

  img,
  video,
  canvas,
  svg {
    @apply max-w-full h-auto block;
  }

  /* Guaranteed container behavior */
  .container {
    width: 100%;
    max-width: var(--container-max);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }

  @media (min-width: 640px) {
    .container {
      padding-left: var(--container-padding-sm);
      padding-right: var(--container-padding-sm);
    }
  }

  @media (min-width: 1024px) {
    .container {
      padding-left: var(--container-padding-lg);
      padding-right: var(--container-padding-lg);
    }
  }

  @media (min-width: 1280px) {
    .container {
      padding-left: var(--container-padding-xl);
      padding-right: var(--container-padding-xl);
    }
  }

  @media (min-width: 1536px) {
    .container {
      max-width: var(--container-max-2xl);
      padding-left: var(--container-padding-2xl);
      padding-right: var(--container-padding-2xl);
    }
  }

  @media (min-width: 1920px) {
    .container {
      max-width: var(--container-max-3xl);
    }
  }
}

/* Components */
@layer components {
  .prose :is(h1, h2, h3) {
    @apply tracking-tight;
  }

  .prose h1 {
    @apply text-4xl md:text-5xl leading-tight font-extrabold;
  }
  .prose h2 {
    @apply text-3xl md:text-4xl leading-tight font-bold;
  }
  .prose h3 {
    @apply text-2xl md:text-3xl leading-snug font-semibold;
  }

  .rail-control {
    @apply inline-flex items-center justify-center gap-2 min-w-10 h-10 px-3 rounded-xl font-semibold transition-all duration-150;
    background-color: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(148, 163, 184, 0.4);
    color: rgb(226, 232, 240);
  }

  /* tek bir grid-overlay tanımı bırak */
  .grid-overlay {
    @apply absolute inset-0 pointer-events-none opacity-70;
    background-image: radial-gradient(circle, rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  .blog-content img {
    width: 100% !important;
    max-width: 900px !important;
    height: auto !important;
    display: block !important;
    margin: 40px auto !important;
    border-radius: 16px !important;
  }

  /* Next/Image wrapper safety */
  .blog-content span > img {
    max-width: 900px !important;
  }

  .blog-scope img {
    width: 100% !important;
    max-width: 1100px !important;
    max-height: 520px !important;
    height: auto !important;
    display: block !important;
    margin: 40px auto !important;
    border-radius: 14px !important;
    object-fit: cover !important;
  }

  .blog-scope figure span {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 14px !important;
    overflow: hidden !important;
  }

  .blog-scope figure span > img {
    width: 100% !important;
    height: auto !important;
    max-height: 520px !important;
    object-fit: cover !important;
  }

  .blog-scope .blog-hero img,
  .blog-scope [data-blog-hero] img {
    max-width: 1300px !important;
    max-height: 560px !important;
    margin-top: 24px !important;
    margin-bottom: 40px !important;
  }

  .blog-scope .aspect-video {
    width: 100% !important;
    max-width: 1100px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  .blog-scope iframe {
    width: 100% !important;
    max-width: 1100px !important;
    max-height: 520px !important;
    aspect-ratio: 16 / 9;
    height: auto !important;
    display: block !important;
    margin-left: auto !important;
    margin-right: auto !important;
    border-radius: 14px !important;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  ::before,
  ::after {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
  }
}

/* Utilities */
@layer utilities {
  /* ✅ Gradient text: destek varsa uygula, yoksa yazı şeffaf kalmasın */
  .gradient-text {
    color: #1d4ed8; /* fallback */
  }

  @supports ((-webkit-background-clip: text) or (background-clip: text)) {
    .gradient-text {
      background-image: linear-gradient(
        90deg,
        rgba(29, 78, 216, 0.98) 0%,
        rgba(109, 40, 217, 0.98) 52%,
        rgba(2, 132, 199, 0.98) 100%
      );
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      text-shadow:
        0 1px 6px rgba(15, 23, 42, 0.25),
        0 0 12px rgba(59, 130, 246, 0.18);
    }
  }

  @media (min-width: 1280px) {
    .gradient-text--safe-xl {
      background-image: none !important;
      color: #1d4ed8 !important;
      -webkit-text-fill-color: currentColor !important;
      text-shadow: none !important;
    }
  }

  .reader-only {
    position: relative;
    width: 1px;
    height: 1px;
    max-width: 1px;
    max-height: 1px;
    margin: 0;
    padding: 0;
    overflow: hidden;
    clip-path: inset(50%);
    font-size: 1px;
    line-height: 1px;
    white-space: nowrap;
    border: 0;
  }

  @media (min-width: 1536px) {
    .max-w-7xl {
      max-width: var(--container-max-2xl);
    }
  }

  @media (min-width: 1920px) {
    .max-w-7xl {
      max-width: var(--container-max-3xl);
    }
  }
}

/* ✅ Keyboard focus görünürlüğü için */
.focus-ring {
  outline: none;
}

.focus-ring:focus-visible {
  box-shadow:
    0 0 0 3px rgba(255, 255, 255, 0.55),
    0 0 0 6px rgba(109, 40, 217, 0.55);
}

.focus-ring:focus:not(:focus-visible) {
  box-shadow: none;
}
